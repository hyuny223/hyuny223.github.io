---
title: "[OpenCV Week5 Day5] 블러링"
categories: dev_OpenCV
tag: [OpenCV]

toc: true
toc_sticky: true
toc_label : 목차


date: 2022-03-18 00:00:04 
last_modified_at: 2022-03-18 
---
<br>
<br>

# 1. 평균 값 필터 
---
## 1. 평균 값 필터(Mean filter) 
* 영상의 특정 좌표 값을 주변 픽셀 값들의 산술 평균으로 설정 
* 픽셀들 간의 그레이스케일 값 변화가 줄어들어 → 날카로운 에지가 무뎌지고, 영상에 있는 잡음의 영향이 사라지는 효과 

    ![Screenshot from 2022-03-24 22-04-03](https://user-images.githubusercontent.com/58837749/159922284-7e184afc-5c18-4245-a300-91b21240c5bd.png)

    ```cpp
    float data[] = {1/9.f, 1/9.f, 1/9.f, 
                    1/9.f, 1/9.f, 1/9.f,
                    1/9.f,1/9.f,1/9.f,}

    Mat kernel = Mat::ones(3, 3, CV_32FC1) / 0.f;
    ```

## 2. 실제 영상에 평균 값 필터를 적용한 결과 
* 마스크 크기가 커질수록 평균 값 필터 결과가 더욱 부드러워짐 → 더 많은 연산량 필요 

    ![Screenshot from 2022-03-24 22-08-43](https://user-images.githubusercontent.com/58837749/159923131-a36e7da4-f7d2-4b4e-9d89-356b14f15f80.png)

* 따라서 Size(5,5)인 커널의 계산량은 25이고, Size(3,3)인 커널의 두 번의 계산량은 18(9+9)이기에, 이러한 방식으로 연산량을 줄일 수 있다.

## 3. 평균값 필터를 이용한 블러링 함수 
```cpp
void blur(InputArray src, OutputArray dst, Size ksize, Point anchor = Point(-1, -1), int borderType = BORDER_DEFAULT)
```
* src : 입력 영상
* dst : 출력 영상
* ksize : 평균값 필터 크기
* anchor : 고정점
* borderType : 가장자리 픽셀 확장 방식

![Screenshot from 2022-03-24 22-15-49](https://user-images.githubusercontent.com/58837749/159924305-91069792-6be2-4814-85e8-9d338d7c25da.png)


## 4. 평균 값 필터
* 다양한 크기의 커널을 사용한 평균 값 필터링 예제 
    ```cpp
    int main()
    {
        Mar src = imread("rose.bmp", IMREAD_GRAYSCALE);
        imshow("src", src);

        Mat dst;
        for (int ksize = 3; ksize <= 7; ksize += 2)
        {
            blur(src, dst, Size(ksize, ksize));

            String desc = format("Mean : %dx%d", ksize, ksize);
            putText(dst, desc, Point(10, 30), FONT_HERSHEY_SIMPLEX, 1.0, Scalar(255), 1, LINE_AA);

            imshow("dst", dst);
            waitKey();
        }
    }
    ```

<br>
<br>


# 2. 가우시안 필터 
---
<br>
<br>
